{"version":3,"sources":["./src/app/signup/signup.page.html","./src/app/auth.service.ts","./src/app/signup/signup.module.ts","./src/app/signup/signup.page.scss","./src/app/signup/signup.page.ts"],"names":[],"mappings":"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","file":"signup-signup-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>signup</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <form novalidate #myForm=\\\"ngForm\\\">\\n    <ion-list>\\n\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">Full Name<ion-text color=\\\"danger\\\">*</ion-text>\\n        </ion-label>\\n        <ion-input ngModel type=\\\"text\\\" name=\\\"fullname\\\" #fullname=\\\"ngModel\\\" required></ion-input>\\n      </ion-item>\\n      <ion-text color=\\\"danger\\\" class=\\\"ion-padding\\\" *ngIf=\\\"fullname.invalid && (fullname.dirty||fullname.touched)\\\">\\n        Please enter name and surname.\\n      </ion-text>\\n\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">Email<ion-text color=\\\"danger\\\">*</ion-text>\\n        </ion-label>\\n        <ion-input ngModel type=\\\"email\\\" name=\\\"email\\\" #email=\\\"ngModel\\\" pattern=\\\"[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$\\\"\\n          required></ion-input>\\n      </ion-item>\\n      <ion-text color=\\\"danger\\\" class=\\\"ion-padding\\\" *ngIf=\\\"email.invalid && (email.dirty||email.touched)\\\">\\n        Please enter a valid email\\n      </ion-text>\\n\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">Password<ion-text color=\\\"danger\\\">*</ion-text>\\n        </ion-label>\\n        <ion-input ngModel type=\\\"password\\\" name=\\\"password\\\" #password=\\\"ngModel\\\" minlength=\\\"3\\\" required></ion-input>\\n      </ion-item>\\n      <ion-text color=\\\"danger\\\" class=\\\"ion-padding\\\" *ngIf=\\\"password.invalid && (password.dirty||password.touched)\\\">\\n        Password must be at least 3 characters long.\\n      </ion-text>\\n\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">Confirm Password<ion-text color=\\\"danger\\\">*</ion-text>\\n        </ion-label>\\n        <ion-input ngModel type=\\\"password\\\" name=\\\"confirmPassword\\\" #confirmPassword=\\\"ngModel\\\"\\n          pattern=\\\"{{ password.value }}\\\" required></ion-input>\\n      </ion-item>\\n      <ion-text color=\\\"danger\\\" class=\\\"ion-padding\\\" *ngIf=\\\"confirmPassword.invalid && (confirmPassword.dirty||confirmPassword.touched)\\\">\\n        Confirm password does not match password\\n      </ion-text>\\n\\n      <ion-button (click)=\\\"signup(myForm.value)\\\" expand=\\\"full\\\" class=\\\"ion-margin-top\\\" [disabled]=\\\"myForm.invalid\\\">\\n        Create New Account\\n      </ion-button>\\n    </ion-list>\\n  </form>\\n</ion-content>\"","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\nimport { FeedBack } from './models/feedback';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  apiUrl = 'https://codingthailand.com/api/insert_user.php';\n\n  constructor(private http: HttpClient) { }\n\n  signup(fullname: string, email: string, password: string): Observable<FeedBack> {\n    return this.http.post<FeedBack>(this.apiUrl, { fullname, email, password });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SignupPage } from './signup.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SignupPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [SignupPage]\n})\nexport class SignupPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NpZ251cC9zaWdudXAucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { LoadingController, AlertController, NavController } from '@ionic/angular';\nimport { Subscription } from 'rxjs'; // for retreive data and unsubscrib() data\n\nimport { AuthService } from '../auth.service'; // model\nimport { FeedBack } from '../models/feedback'; // service\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.page.html',\n  styleUrls: ['./signup.page.scss'],\n})\nexport class SignupPage implements OnInit {\n\n  sub: Subscription;\n  feedback: FeedBack;\n\n  constructor(\n    private authService: AuthService,\n    private loadingCtrl: LoadingController,\n    private alertCtrl: AlertController,\n    private navCtrl: NavController\n  ) { }\n\n  ngOnInit() {\n  }\n\n  async signup(value) {\n    const { fullname, email, password } = value;\n\n    const loading = await this.loadingCtrl.create({\n      spinner: 'bubbles',\n      message: 'Saving data'\n    });\n    await loading.present();\n\n    this.authService.signup(fullname, email, password).subscribe(\n      async (f) => {\n        this.feedback = f;\n        const { message } = this.feedback;\n        const alert = await this.alertCtrl.create({\n          message,\n          buttons: ['Ok']\n        });\n        await alert.present();\n        this.navCtrl.navigateRoot('/');\n      },\n      async (e) => {\n        await loading.dismiss();\n      },\n      async () => { // dissmiss the Loading when finish fetching data\n        await loading.dismiss();\n      }\n    );\n  }\n}\n"],"sourceRoot":""}